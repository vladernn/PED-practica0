/*
 * TPoro.cpp
 *
 *  Created on: 17 de feb. de 2016
 *      Author: vladernn
 */
#include "TPoro.h"

TPoro::TPoro() {
	color=NULL;
	x=0;
	y=0;
	volumen=0;
}
TPoro::TPoro(int x ,int y,double vol)
{
	this->x=x;
	this->y=y;
	this->volumen=vol;
	color=NULL;
}
TPoro::TPoro(int x,int y,double vol,char* col)
{
	this->x=x;
	this->y=y;
	volumen=vol;
	color=col;
	char c;
	unsigned int i=0;
	char aux[strlen(col)];
	if(col!=NULL)
	{

	}else
	{
		this->color=NULL;
	}
}
TPoro::TPoro(TPoro &poroX)
{
	x=poroX.x;
	y=poroX.y;
	volumen=poroX.volumen;
	if(poroX.EsVacio()==false)
	{
		color=new char[strlen( poroX.color)+1];
		strcpy(color,poroX.color);

	}else
	{
		color=NULL;
	}
}
TPoro::~TPoro()
{
		x=y=0;
		volumen=0;
		delete[] color;
}
TPoro& TPoro::operator=(TPoro & suPoro)
{
	return suPoro;
}
bool TPoro:: operator==(TPoro & suPoro)
{
	bool sonIguales=false;
	if(suPoro.Color()!=NULL and this->Color()!=NULL)
	{

		if(strcmp(this->Color(),suPoro.Color())==0)
		{
			sonIguales=true;
		}
	}

	if(this->PosicionX()==suPoro.PosicionX() && this->PosicionY()==suPoro.PosicionY()
			&& this->Volumen()==suPoro.Volumen() && sonIguales==true)
	{
		return(true);
	}else
	{
		return(false);
	}
}
bool TPoro::operator!=(TPoro & suPoro)
{
	if(*this==suPoro)
	{
		return(false);
	}else
	{
		return(true);
	}
}
bool TPoro::EsVacio()
{
	if(this->color==NULL and this->volumen==0 and this->x==0 and this->y==0)
	{
		return true;
	}else
	{
		return false;
	}
}
void TPoro::Color(char * col)
{
	if(col!=NULL)
	{
		delete[] col;
	}
		this->color=new char[strlen(col)+1];
				//strcpy(this->color,col);
				while(i<strlen(col)+1)
				{
					c=col[i];
					aux[i]=tolower(c);
					i++;
				}
				strcpy(this->color,aux);
}
int main()
{
	TPoro miPoro1(1,2,2.07,(char*)"AMARILLO");
	cout<<":"<<miPoro1.Volumen()<<":"<<miPoro1.Color()<<endl;
	TPoro miPoro2(miPoro1);
	cout<<":"<<miPoro2.Volumen()<<":"<<miPoro2.Color()<<endl;
	miPoro2.~TPoro();
	miPoro1.~TPoro();
	return -1;
}

